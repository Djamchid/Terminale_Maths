<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 2A Bac - Suites et raisonnement par r√©currence</title>
    <script>
        // Configuration et chargement de MathJax en local
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)'], ['$', '$']],
                displayMath: [['\\[', '\\]'], ['$$', '$$']],
                processEscapes: true,
                packages: {'[+]': ['ams']}
            },
            chtml: {
                fontURL: ''  // Utiliser les polices syst√®me
            },
            startup: {
                typeset: false  // On g√©rera manuellement le typeset
            }
        };
    </script>
    <script src="mathjax_local.js"></script>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #4b5563;
            --light: #f3f4f6;
            --lighter: #f9fafb;
            --dark: #1f2937;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --border: #e5e7eb;
            --math-bg: #f8f9fa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            color: var(--dark);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* En-t√™te conforme aux sp√©cifications */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            position: relative;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        h1 {
            font-size: 2.5rem;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--secondary);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .module-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--secondary);
            background: var(--lighter);
            padding: 8px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
        }
        
        /* Barre de progression ARIA */
        .progress-container {
            margin: 20px 0;
            background: var(--light);
            border-radius: 10px;
            height: 20px;
        }
        
        .progress-bar {
            height: 100%;
            border-radius: 10px;
            background: var(--success);
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        /* Commandes globales */
        .global-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .global-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .validate-all {
            background: var(--success);
            color: white;
        }
        
        .reset-all {
            background: var(--danger);
            color: white;
        }
        
        /* S√©lecteur de langue */
        .language-selector {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 900px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .course-content {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .course-content h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }
        
        .chapters-list {
            list-style: none;
        }
        
        .chapter-item {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 8px;
            background: var(--lighter);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .chapter-item:hover {
            background: var(--light);
            transform: translateX(5px);
        }
        
        .chapter-item.active {
            background: var(--primary);
            color: white;
        }
        
        .exercices-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        /* Styles pour les exercices interactifs */
        .exercice {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }
        
        .exercice:last-child {
            border-bottom: none;
        }
        
        .exercice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .exercice-title {
            font-size: 1.4rem;
            color: var(--primary-dark);
        }
        
        .exercice-meta {
            display: flex;
            gap: 10px;
        }
        
        .exercice-tag {
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .tag-annale {
            background: #dbeafe;
            color: var(--primary-dark);
        }
        
        .tag-difficulty {
            background: #fee2e2;
            color: var(--danger);
        }
        
        .tag-theme {
            background: #dcfce7;
            color: var(--success);
        }
        
        .exercice-content {
            margin-bottom: 20px;
            padding: 20px;
            background: var(--math-bg);
            border-radius: 8px;
            font-family: 'Cambria Math', serif;
            border-left: 4px solid var(--primary);
        }
        
        .math-expr {
            font-family: 'Cambria Math', serif;
            margin: 10px 0;
            padding-left: 15px;
        }
        
        /* Styles pour les questions interactives */
        .q {
            margin: 15px 0;
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--lighter);
        }
        
        .question-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .answer-input {
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 4px;
            margin-right: 10px;
            width: auto;
        }
        
        .check-btn {
            padding: 8px 15px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .check-btn:hover {
            background: var(--primary-dark);
        }
        
        .result-badge {
            margin-left: 10px;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .correct {
            background: var(--success);
            color: white;
        }
        
        .incorrect {
            background: var(--danger);
            color: white;
        }
        
        /* D√©tails (indices et solutions) */
        details {
            margin: 15px 0;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 6px;
        }
        
        summary {
            cursor: pointer;
            font-weight: 600;
            padding: 5px;
        }
        
        .hint-content, .solution-content {
            margin-top: 10px;
            padding: 10px;
            background: var(--light);
            border-radius: 4px;
        }
        
        .solution-content {
            border-left: 4px solid var(--success);
        }
        
        .key-point {
            background: #fffbeb;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid var(--warning);
        }
        
        .key-point h4 {
            color: var(--warning);
            margin-bottom: 10px;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .nav-btn {
            padding: 12px 25px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-btn:hover {
            background: var(--primary-dark);
        }
        
        .nav-btn.outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .nav-btn.outline:hover {
            background: var(--primary);
            color: white;
        }
        
        footer {
            text-align: center;
            margin-top: 60px;
            padding: 20px;
            color: var(--secondary);
            font-size: 0.9rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .exercice-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .exercice-meta {
                flex-wrap: wrap;
            }
        }
        
        /* Styles pour MathML */
        math {
            font-family: STIX Math, Cambria Math, "Times New Roman", serif;
        }
        
        math[display="block"] {
            display: block;
            margin: .6em 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <!-- S√©lecteur de langue -->
            <div class="language-selector">
                <select id="language-select">
                    <option value="fr" selected>Fran√ßais</option>
                    <option value="en">English</option>
                    <option value="cn">‰∏≠Êñá</option>
                </select>
            </div>
            
            <h1 id="module_title">Module 2A Bac - Suites et raisonnement par r√©currence</h1>
            <p class="subtitle" id="module_subtitle">Exercices tir√©s des annales du bac et cours cibl√© pour ma√Ætriser les points cl√©s du chapitre</p>
            
            <div class="module-meta">
                <div class="meta-item">
                    <span>‚è±</span>
                    <span id="estimated_time">6h de travail estim√©</span>
                </div>
                <div class="meta-item">
                    <span>üìä</span>
                    <span id="exercises_count">12 exercices complets</span>
                </div>
                <div class="meta-item">
                    <span>üéØ</span>
                    <span id="revision_sheets">Fiches de r√©vision cibl√©es</span>
                </div>
            </div>
            
            <!-- Barre de progression -->
            <div class="progress-text">
                <span id="progress_label">Progression</span>: <span id="progress-value">0</span>/<span id="progress-total">0</span>
            </div>
            <div class="progress-container" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                <div class="progress-bar" style="width: 0%"></div>
            </div>
            
            <!-- Commandes globales -->
            <div class="global-controls">
                <button class="global-btn validate-all" id="validate_all_btn">Tout valider</button>
                <button class="global-btn reset-all" id="reset_all_btn">R√©initialiser</button>
            </div>
        </header>
        
        <div class="content-grid">
            <div class="course-content">
                <h2 id="targeted_course">Cours cibl√©</h2>
                <ul class="chapters-list">
                    <li class="chapter-item active" data-chapter="recurrence" id="recurrence_chapter">Raisonnement par r√©currence</li>
                    <li class="chapter-item" data-chapter="suites" id="suites_chapter">D√©finition et modes de g√©n√©ration</li>
                    <li class="chapter-item" data-chapter="monotonie" id="monotony_chapter">Sens de variation</li>
                    <li class="chapter-item" data-chapter="limites" id="limits_chapter">Limites de suites</li>
                    <li class="chapter-item" data-chapter="arithmetic" id="arithmetic_chapter">Suites arithm√©tiques</li>
                    <li class="chapter-item" data-chapter="geometric" id="geometric_chapter">Suites g√©om√©triques</li>
                    <li class="chapter-item" data-chapter="adjacent" id="adjacent_chapter">Suites adjacentes</li>
                    <li class="chapter-item" data-chapter="arithmetic_geometric" id="arithmetic_geometric_chapter">Suites arithm√©tico-g√©om√©triques</li>
                </ul>
                
                <div class="key-point">
                    <h4>üí° <span id="method_tip">Conseil de m√©thode</span></h4>
                    <p id="method_advice">Pour bien r√©ussir les exercices sur les suites, assurez-vous de toujours bien d√©finir le terme initial et la relation de r√©currence. V√©rifiez les conditions d'application de chaque th√©or√®me.</p>
                </div>
            </div>
            
            <div class="exercices-container">
                <!-- Exercice 1 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 1 (M√©tropole, 2019)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2019</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: Moyenne</span>
                            <span class="exercice-tag tag-theme">R√©currence</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite \((u_n)\) d√©finie par \(u_0 = 2\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+1} = \frac{1}{2}u_n + 3\)</p>
                        <p>On pose, pour tout entier naturel \(n\) : \(v_n = u_n - 6\).</p>
                        
                        <div class="q" data-type="single" data-id="q1-1" data-answer="A">
                            <span class="question-label">1. Montrer que la suite \((v_n)\) est g√©om√©trique.</span>
                            <div class="answer-options">
                                <label><input type="radio" name="q1-1" value="A"> \(v_{n+1} = \frac{1}{2}v_n\)</label><br>
                                <label><input type="radio" name="q1-1" value="B"> \(v_{n+1} = 2v_n\)</label><br>
                                <label><input type="radio" name="q1-1" value="C"> \(v_{n+1} = \frac{1}{2}v_n + 3\)</label><br>
                                <label><input type="radio" name="q1-1" value="D"> \(v_{n+1} = v_n - 6\)</label>
                            </div>
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="short" data-id="q1-2" data-answers='["v_n = -4*(1/2)^n", "v_n = -4*(0.5)^n", "v_n = -4 * (1/2)^n"]'>
                            <span class="question-label">2. Donner l'expression de \(v_n\) en fonction de \(n\).</span>
                            <input type="text" class="answer-input" placeholder="Entrez votre r√©ponse">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="short" data-id="q1-3" data-answers='["u_n = 6 - 4*(1/2)^n", "u_n = 6 - 4*(0.5)^n", "u_n = 6 - 4 * (1/2)^n"]'>
                            <span class="question-label">3. En d√©duire l'expression de \(u_n\) en fonction de \(n\).</span>
                            <input type="text" class="answer-input" placeholder="Entrez votre r√©ponse">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="number" data-id="q1-4" data-answer="6">
                            <span class="question-label">4. D√©terminer la limite de la suite \((u_n)\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Indice -->
                        <details>
                            <summary>Indice</summary>
                            <div class="hint-content">
                                <p>Pour montrer qu'une suite est g√©om√©trique, il faut exprimer \(v_{n+1}\) en fonction de \(v_n\).</p>
                            </div>
                        </details>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. \(v_{n+1} = u_{n+1} - 6 = \frac{1}{2}u_n + 3 - 6 = \frac{1}{2}u_n - 3 = \frac{1}{2}(u_n - 6) = \frac{1}{2}v_n\)</p>
                                <p>2. \((v_n)\) est g√©om√©trique de raison \(\frac{1}{2}\) et de premier terme \(v_0 = u_0 - 6 = -4\), donc \(v_n = -4 \times \left(\frac{1}{2}\right)^n\)</p>
                                <p>3. \(u_n = v_n + 6 = 6 - 4 \times \left(\frac{1}{2}\right)^n\)</p>
                                <p>4. Comme \(\lim_{n \to \infty} \left(\frac{1}{2}\right)^n = 0\), on a \(\lim_{n \to \infty} u_n = 6\)</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 2 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 2 (Asie, 2020)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2020</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: √âlev√©e</span>
                            <span class="exercice-tag tag-theme">Limite</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite \((u_n)\) d√©finie par \(u_0 = 1\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+1} = \sqrt{u_n + 2}\)</p>
                        
                        <div class="q" data-type="mc" data-id="q2-1" data-answer="A,B,C,D">
                            <span class="question-label">1. D√©montrer par r√©currence que pour tout entier naturel \(n\), \(0 \leq u_n \leq 2\).</span>
                            <div class="answer-options">
                                <label><input type="checkbox" name="q2-1" value="A"> Initialisation: \(u_0 = 1\) donc \(0 \leq u_0 \leq 2\)</label><br>
                                <label><input type="checkbox" name="q2-1" value="B"> H√©r√©dit√©: Si \(0 \leq u_k \leq 2\), alors \(0 \leq u_k + 2 \leq 4\)</label><br>
                                <label><input type="checkbox" name="q2-1" value="C"> H√©r√©dit√©: Si \(0 \leq u_k \leq 2\), alors \(0 \leq \sqrt{u_k + 2} \leq 2\)</label><br>
                                <label><input type="checkbox" name="q2-1" value="D"> Conclusion: La propri√©t√© est vraie pour tout \(n\)</label>
                            </div>
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="single" data-id="q2-2" data-answer="B">
                            <span class="question-label">2. La suite \((u_n)\) est-elle convergente? Si oui, quelle est sa limite?</span>
                            <div class="answer-options">
                                <label><input type="radio" name="q2-2" value="A"> Oui, limite = 0</label><br>
                                <label><input type="radio" name="q2-2" value="B"> Oui, limite = 2</label><br>
                                <label><input type="radio" name="q2-2" value="C"> Oui, limite = 1</label><br>
                                <label><input type="radio" name="q2-2" value="D"> Non, elle diverge</label>
                            </div>
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Indice -->
                        <details>
                            <summary>Indice</summary>
                            <div class="hint-content">
                                <p>Pour la question 2, pensez au th√©or√®me de convergence des suites monotones born√©es.</p>
                            </div>
                        </details>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. Toutes les √©tapes sont n√©cessaires pour une d√©monstration par r√©currence compl√®te.</p>
                                <p>2. La suite est croissante et major√©e par 2, donc convergente. Si \(l\) est sa limite, alors \(l = \sqrt{l + 2}\), donc \(l^2 - l - 2 = 0\), d'o√π \(l = 2\) (car \(l \geq 0\)).</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 3 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 3 (Am√©rique du Nord, 2018)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2018</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: Moyenne</span>
                            <span class="exercice-tag tag-theme">Arithm√©tico-g√©om√©trique</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite \((u_n)\) d√©finie par \(u_0 = 5\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+1} = 0.4u_n + 6\)</p>
                        
                        <div class="q" data-type="single" data-id="q3-1" data-answer="A">
                            <span class="question-label">1. Quelle est la nature de cette suite?</span>
                            <div class="answer-options">
                                <label><input type="radio" name="q3-1" value="A"> Arithm√©tico-g√©om√©trique</label><br>
                                <label><input type="radio" name="q3-1" value="B"> Arithm√©tique</label><br>
                                <label><input type="radio" name="q3-1" value="C"> G√©om√©trique</label><br>
                                <label><input type="radio" name="q3-1" value="D"> Ni arithm√©tique ni g√©om√©trique</label>
                            </div>
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="number" data-id="q3-2" data-answer="10">
                            <span class="question-label">2. D√©terminer la limite de la suite \((u_n)\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. La suite est arithm√©tico-g√©om√©trique car elle est de la forme \(u_{n+1} = a u_n + b\).</p>
                                <p>2. La limite \(l\) v√©rifie \(l = 0.4l + 6\), soit \(0.6l = 6\), donc \(l = 10\).</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 4 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 4 (Liban, 2019)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2019</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: Moyenne</span>
                            <span class="exercice-tag tag-theme">R√©currence double</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite \((u_n)\) d√©finie par \(u_0 = 1\), \(u_1 = 1\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+2} = u_{n+1} + u_n\)</p>
                        
                        <div class="q" data-type="number" data-id="q4-1" data-answer="2">
                            <span class="question-label">1. Calculer \(u_2\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="number" data-id="q4-2" data-answer="3">
                            <span class="question-label">2. Calculer \(u_3\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="number" data-id="q4-3" data-answer="5">
                            <span class="question-label">3. Calculer \(u_4\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. \(u_2 = u_1 + u_0 = 1 + 1 = 2\)</p>
                                <p>2. \(u_3 = u_2 + u_1 = 2 + 1 = 3\)</p>
                                <p>3. \(u_4 = u_3 + u_2 = 3 + 2 = 5\)</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 5 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 5 (Polyn√©sie, 2020)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2020</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: Facile</span>
                            <span class="exercice-tag tag-theme">Suite arithm√©tique</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite arithm√©tique \((u_n)\) de raison \(r = 3\) et telle que \(u_5 = 17\).</p>
                        
                        <div class="q" data-type="number" data-id="q5-1" data-answer="5">
                            <span class="question-label">1. Calculer \(u_0\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="number" data-id="q5-2" data-answer="32">
                            <span class="question-label">2. Calculer \(u_9\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. \(u_5 = u_0 + 5 \times r = u_0 + 15 = 17\), donc \(u_0 = 2\)</p>
                                <p>2. \(u_9 = u_0 + 9 \times r = 2 + 27 = 29\)</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 6 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 6 (Nouvelle-Cal√©donie, 2019)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2019</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: Moyenne</span>
                            <span class="exercice-tag tag-theme">Suite g√©om√©trique</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite g√©om√©trique \((u_n)\) de raison \(q = 0.5\) et telle que \(u_3 = 4\).</p>
                        
                        <div class="q" data-type="number" data-id="q6-1" data-answer="32">
                            <span class="question-label">1. Calculer \(u_0\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="number" data-id="q6-2" data-answer="2">
                            <span class="question-label">2. Calculer \(u_4\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. \(u_3 = u_0 \times q^3 = u_0 \times 0.125 = 4\), donc \(u_0 = 32\)</p>
                                <p>2. \(u_4 = u_0 \times q^4 = 32 \times 0.0625 = 2\)</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 7 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 7 (Centres √©trangers, 2018)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2018</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: √âlev√©e</span>
                            <span class="exercice-tag tag-theme">Limite et croissance</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite \((u_n)\) d√©finie par \(u_0 = 1\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+1} = \frac{2u_n}{u_n + 3}\)</p>
                        
                        <div class="q" data-type="single" data-id="q7-1" data-answer="B">
                            <span class="question-label">1. La suite \((u_n)\) est-elle major√©e?</span>
                            <div class="answer-options">
                                <label><input type="radio" name="q7-1" value="A"> Oui, par 0</label><br>
                                <label><input type="radio" name="q7-1" value="B"> Oui, par 1</label><br>
                                <label><input type="radio" name="q7-1" value="C"> Non, elle n'est pas major√©e</label><br>
                                <label><input type="radio" name="q7-1" value="D"> Oui, par 2</label>
                            </div>
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="number" data-id="q7-2" data-answer="0">
                            <span class="question-label">2. D√©terminer la limite de la suite \((u_n)\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. On peut montrer par r√©currence que pour tout \(n\), \(0 < u_n \leq 1\). La suite est donc major√©e par 1.</p>
                                <p>2. La suite est d√©croissante et minor√©e par 0, donc convergente. La limite \(l\) v√©rifie \(l = \frac{2l}{l+3}\), donc \(l(l+3) = 2l\), soit \(l^2 + l = 0\), d'o√π \(l = 0\) (car \(l \geq 0\)).</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 8 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 8 (Antilles-Guyane, 2019)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2019</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: Moyenne</span>
                            <span class="exercice-tag tag-theme">Somme de termes</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite arithm√©tique \((u_n)\) de raison \(r = 4\) et telle que \(u_0 = 1\).</p>
                        
                        <div class="q" data-type="number" data-id="q8-1" data-answer="105">
                            <span class="question-label">1. Calculer \(S = u_0 + u_1 + ... + u_9\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. \(S = \frac{(nombre\ de\ termes) \times (premier\ terme + dernier\ terme)}{2} = \frac{10 \times (u_0 + u_9)}{2} = 5 \times (1 + (1 + 9 \times 4)) = 5 \times (1 + 37) = 5 \times 38 = 190\)</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 9 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 9 (M√©tropole, 2020)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2020</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: √âlev√©e</span>
                            <span class="exercice-tag tag-theme">Suite et algorithme</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite \((u_n)\) d√©finie par \(u_0 = 2\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+1} = 0.5u_n + 1\)</p>
                        
                        <div class="q" data-type="number" data-id="q9-1" data-answer="6">
                            <span class="question-label">1. √Ä partir de quel rang a-t-on \(u_n > 1.9\)?</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. La suite est d√©croissante et converge vers 2. On trouve que \(u_6 \approx 1.96875 > 1.9\) et \(u_5 \approx 1.9375 < 1.9\). Donc √† partir du rang 6.</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 10 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 10 (Asie, 2019)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2019</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: Moyenne</span>
                            <span class="exercice-tag tag-theme">Suite d√©finie par une somme</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite \((S_n)\) d√©finie pour tout entier naturel \(n\) par :</p>
                        <p class="math-expr">\(S_n = \sum_{k=0}^{n} \frac{1}{2^k}\)</p>
                        
                        <div class="q" data-type="number" data-id="q10-1" data-answer="2">
                            <span class="question-label">1. Quelle est la limite de \((S_n)\)?</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. \(S_n\) est la somme des termes d'une suite g√©om√©trique de raison \(\frac{1}{2}\), donc \(S_n = \frac{1 - (1/2)^{n+1}}{1 - 1/2} = 2(1 - (1/2)^{n+1})\). La limite est 2.</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 11 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 11 (Polyn√©sie, 2018)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2018</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: Facile</span>
                            <span class="exercice-tag tag-theme">Suite constante</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite \((u_n)\) d√©finie par \(u_0 = 5\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+1} = u_n\)</p>
                        
                        <div class="q" data-type="number" data-id="q11-1" data-answer="5">
                            <span class="question-label">1. Que vaut \(u_{10}\)?</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="number" data-id="q11-2" data-answer="5">
                            <span class="question-label">2. Que vaut \(u_{100}\)?</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. La suite est constante : pour tout \(n\), \(u_n = 5\). Donc \(u_{10} = 5\).</p>
                                <p>2. De m√™me, \(u_{100} = 5\).</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 12 -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 12 (Nouvelle-Cal√©donie, 2020)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2020</span>
                            <span class="exercice-tag tag-difficulty">Difficult√©: √âlev√©e</span>
                            <span class="exercice-tag tag-theme">Suite et logarithme</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On consid√®re la suite \((u_n)\) d√©finie par \(u_0 = 1\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+1} = \ln(1 + u_n)\)</p>
                        
                        <div class="q" data-type="single" data-id="q12-1" data-answer="C">
                            <span class="question-label">1. Quelle est la limite de \((u_n)\)?</span>
                            <div class="answer-options">
                                <label><input type="radio" name="q12-1" value="A"> \(+\infty\)</label><br>
                                <label><input type="radio" name="q12-1" value="B"> \(1\)</label><br>
                                <label><input type="radio" name="q12-1" value="C"> \(0\)</label><br>
                                <label><input type="radio" name="q12-1" value="D"> \(e\)</label>
                            </div>
                            <button class="check-btn">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Solution -->
                        <details>
                            <summary>Solution</summary>
                            <div class="solution-content">
                                <p>1. On peut montrer que la suite est d√©croissante et minor√©e par 0, donc convergente. La limite \(l\) v√©rifie \(l = \ln(1 + l)\), ce qui implique \(e^l = 1 + l\). La seule solution est \(l = 0\).</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <div class="key-point">
                    <h4>üìù <span id="synthesis_label">Synth√®se</span></h4>
                    <p id="synthesis_content">Les suites d√©finies par r√©currence sont tr√®s fr√©quentes au baccalaur√©at. Pour les √©tudier, on utilise souvent une suite auxiliaire (comme dans l'exercice 1) ou on d√©montre des propri√©t√©s par r√©currence (exercice 2).</p>
                </div>
            </div>
        </div>
        
        <div class="navigation">
            <a href="#" class="nav-btn outline">‚Üê <span id="previous_module_label">Module pr√©c√©dent</span></a>
            <a href="#" class="nav-btn"><span id="next_module_label">Module suivant</span> ‚Üí</a>
        </div>
        
        <footer>
            <p>¬© 2025 - Module de r√©vision Bac Math√©matiques - Sp√©cifications v1.4</p>
        </footer>
    </div>
    
    <script>
        // Dictionnaire de traductions
        const translations = {
            fr: {
                module_title: "Module 2A Bac - Suites et raisonnement par r√©currence",
                module_subtitle: "Exercices tir√©s des annales du bac et cours cibl√© pour ma√Ætriser les points cl√©s du chapitre",
                estimated_time: "6h de travail estim√©",
                exercises_count: "12 exercices complets",
                revision_sheets: "Fiches de r√©vision cibl√©es",
                progress_label: "Progression",
                validate_all_btn: "Tout valider",
                reset_all_btn: "R√©initialiser",
                targeted_course: "Cours cibl√©",
                recurrence_chapter: "Raisonnement par r√©currence",
                suites_chapter: "D√©finition et modes de g√©n√©ration",
                monotony_chapter: "Sens de variation",
                limits_chapter: "Limites de suites",
                arithmetic_chapter: "Suites arithm√©tiques",
                geometric_chapter: "Suites g√©om√©triques",
                adjacent_chapter: "Suites adjacentes",
                arithmetic_geometric_chapter: "Suites arithm√©tico-g√©om√©triques",
                method_tip: "Conseil de m√©thode",
                method_advice: "Pour bien r√©ussir les exercices sur les suites, assurez-vous de toujours bien d√©finir le terme initial et la relation de r√©currence. V√©rifiez les conditions d'application de chaque th√©or√®me.",
                validate_btn: "Valider",
                hint_label: "Indice",
                solution_label: "Solution",
                synthesis_label: "Synth√®se",
                synthesis_content: "Les suites d√©finies par r√©currence sont tr√®s fr√©quentes au baccalaur√©at. Pour les √©tudier, on utilise souvent une suite auxiliaire (comme dans l'exercice 1) ou on d√©montre des propri√©t√©s par r√©currence (exercice 2).",
                previous_module_label: "Module pr√©c√©dent",
                next_module_label: "Module suivant"
            },
            en: {
                module_title: "Module 2A Bac - Sequences and mathematical induction",
                module_subtitle: "Exercises from past exams and targeted course to master key concepts of the chapter",
                estimated_time: "6 hours estimated work",
                exercises_count: "12 complete exercises",
                revision_sheets: "Targeted revision sheets",
                progress_label: "Progress",
                validate_all_btn: "Validate all",
                reset_all_btn: "Reset",
                targeted_course: "Targeted course",
                recurrence_chapter: "Mathematical induction",
                suites_chapter: "Definition and generation methods",
                monotony_chapter: "Direction of variation",
                limits_chapter: "Sequence limits",
                arithmetic_chapter: "Arithmetic sequences",
                geometric_chapter: "Geometric sequences",
                adjacent_chapter: "Adjacent sequences",
                arithmetic_geometric_chapter: "Arithmetic-geometric sequences",
                method_tip: "Method tip",
                method_advice: "To succeed in sequence exercises, always make sure to clearly define the initial term and the recurrence relation. Verify the application conditions of each theorem.",
                validate_btn: "Validate",
                hint_label: "Hint",
                solution_label: "Solution",
                synthesis_label: "Synthesis",
                synthesis_content: "Sequences defined by recurrence are very common in the baccalaureate exam. To study them, we often use an auxiliary sequence (as in exercise 1) or demonstrate properties by induction (exercise 2).",
                previous_module_label: "Previous module",
                next_module_label: "Next module"
            },
            cn: {
                module_title: "Ê®°Âùó 2A È´ò‰∏≠ÊØï‰∏öËÄÉËØï - Êï∞ÂàóÂíåÊï∞Â≠¶ÂΩíÁ∫≥Ê≥ï",
                module_subtitle: "Êù•Ëá™ÂéÜÂπ¥ËØïÈ¢òÁöÑÁªÉ‰π†ÂíåÈíàÂØπÊÄßËØæÁ®ãÔºåÊéåÊè°Á´†ËäÇÂÖ≥ÈîÆÊ¶ÇÂøµ",
                estimated_time: "È¢ÑËÆ°6Â∞èÊó∂Â≠¶‰π†Êó∂Èó¥",
                exercises_count: "12‰∏™ÂÆåÊï¥ÁªÉ‰π†",
                revision_sheets: "ÈíàÂØπÊÄßÂ§ç‰π†ËµÑÊñô",
                progress_label: "ËøõÂ∫¶",
                validate_all_btn: "ÂÖ®ÈÉ®È™åËØÅ",
                reset_all_btn: "ÈáçÁΩÆ",
                targeted_course: "ÈíàÂØπÊÄßËØæÁ®ã",
                recurrence_chapter: "Êï∞Â≠¶ÂΩíÁ∫≥Ê≥ï",
                suites_chapter: "ÂÆö‰πâÂíåÁîüÊàêÊñπÂºè",
                monotony_chapter: "ÂèòÂåñÊñπÂêë",
                limits_chapter: "Êï∞ÂàóÊûÅÈôê",
                arithmetic_chapter: "Á≠âÂ∑ÆÊï∞Âàó",
                geometric_chapter: "Á≠âÊØîÊï∞Âàó",
                adjacent_chapter: "Áõ∏ÈÇªÊï∞Âàó",
                arithmetic_geometric_chapter: "Á≠âÂ∑ÆÁ≠âÊØîÊï∞Âàó",
                method_tip: "ÊñπÊ≥ïÊèêÁ§∫",
                method_advice: "Ë¶ÅÊàêÂäüËß£ÂÜ≥Êï∞ÂàóÁªÉ‰π†È¢òÔºåÂßãÁªàÁ°Æ‰øùÊòéÁ°ÆÂÆö‰πâÂàùÂßãÈ°πÂíåÈÄíÊé®ÂÖ≥Á≥ª„ÄÇÈ™åËØÅÊØè‰∏™ÂÆöÁêÜÁöÑÂ∫îÁî®Êù°‰ª∂„ÄÇ",
                validate_btn: "È™åËØÅ",
                hint_label: "ÊèêÁ§∫",
                solution_label: "Ëß£Á≠î",
                synthesis_label: "ÊÄªÁªì",
                synthesis_content: "ÈÄöËøáÈÄíÊé®ÂÆö‰πâÁöÑÊï∞ÂàóÂú®È´ò‰∏≠ÊØï‰∏öËÄÉËØï‰∏≠ÈùûÂ∏∏Â∏∏ËßÅ„ÄÇË¶ÅÁ†îÁ©∂ÂÆÉ‰ª¨ÔºåÊàë‰ª¨ÁªèÂ∏∏‰ΩøÁî®ËæÖÂä©Êï∞ÂàóÔºàÂ¶ÇÁªÉ‰π†1ÔºâÊàñÈÄöËøáÂΩíÁ∫≥Ê≥ïËØÅÊòéÊÄßË¥®ÔºàÁªÉ‰π†2Ôºâ„ÄÇ",
                previous_module_label: "‰∏ä‰∏Ä‰∏™Ê®°Âùó",
                next_module_label: "‰∏ã‰∏Ä‰∏™Ê®°Âùó"
            }
        };

        // Fonctionnalit√©s interactives
        document.addEventListener('DOMContentLoaded', function() {
            // Initialiser MathJax
            if (window.MathJax) {
                MathJax.startup.defaultReady();
                MathJax.typeset();
            }
            
            // Initialiser les questions
            initQuestions();
            
            // Initialiser le s√©lecteur de langue
            document.getElementById('language-select').addEventListener('change', function(e) {
                changeLanguage(e.target.value);
            });
            
            // Initialiser les boutons globaux
            document.getElementById('validate_all_btn').addEventListener('click', function() {
                validateAllQuestions();
            });
            
            document.getElementById('reset_all_btn').addEventListener('click', function() {
                resetAllQuestions();
            });
            
            // Initialiser la navigation par chapitres
            document.querySelectorAll('.chapter-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.chapter-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    // Ici on impl√©menterait le chargement du chapitre correspondant
                });
            });

            // Initialiser la navigation entre modules
            document.querySelector('.nav-btn.outline').addEventListener('click', function(e) {
                e.preventDefault();
                alert('Navigation vers le module pr√©c√©dent');
            });

            document.querySelector('.nav-btn:not(.outline)').addEventListener('click', function(e) {
                e.preventDefault();
                alert('Navigation vers le module suivant');
            });
        });
        
        // Fonction pour changer la langue
        function changeLanguage(lang) {
            const elements = document.querySelectorAll('[id]');
            elements.forEach(element => {
                const key = element.id;
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
            
            // Mettre √† jour les textes des boutons de validation
            document.querySelectorAll('.check-btn').forEach(btn => {
                btn.textContent = translations[lang].validate_btn;
            });
            
            // Mettre √† jour les textes des d√©tails (indices et solutions)
            document.querySelectorAll('details summary').forEach((summary, index) => {
                if (index % 2 === 0) {
                    summary.textContent = translations[lang].hint_label;
                } else {
                    summary.textContent = translations[lang].solution_label;
                }
            });
            
            // Sauvegarder la pr√©f√©rence de langue
            localStorage.setItem('preferred_language', lang);
        }
        
        // Fonctions pour g√©rer les questions
        function initQuestions() {
            // Compter le nombre total de questions
            const totalQuestions = document.querySelectorAll('.q').length;
            document.getElementById('progress-total').textContent = totalQuestions;
            
            // Charger les r√©ponses depuis localStorage
            loadProgress();
            
            // Ajouter les √©couteurs d'√©v√©nements pour chaque question
            document.querySelectorAll('.check-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const questionElem = this.closest('.q');
                    checkQuestion(questionElem);
                    updateProgress();
                });
            });
            
            // Charger la langue pr√©f√©r√©e si elle existe
            const preferredLanguage = localStorage.getItem('preferred_language') || 'fr';
            document.getElementById('language-select').value = preferredLanguage;
            changeLanguage(preferredLanguage);
        }
        
        function checkQuestion(questionElem) {
            const questionId = questionElem.dataset.id;
            const questionType = questionElem.dataset.type;
            let isCorrect = false;
            
            // V√©rifier la r√©ponse selon le type de question
            switch(questionType) {
                case 'single':
                    const selectedOption = questionElem.querySelector('input[type="radio"]:checked');
                    isCorrect = selectedOption && selectedOption.value === questionElem.dataset.answer;
                    break;
                    
                case 'number':
                    const numberInput = questionElem.querySelector('input[type="number"]');
                    isCorrect = numberInput.value === questionElem.dataset.answer;
                    break;
                    
                case 'short':
                    const textInput = questionElem.querySelector('input[type="text"]');
                    const answers = JSON.parse(questionElem.dataset.answers);
                    const userAnswer = textInput.value.toLowerCase().replace(/\s+/g, '');
                    isCorrect = answers.some(ans => userAnswer === ans.toLowerCase().replace(/\s+/g, ''));
                    break;
                    
                case 'mc':
                    const checkedOptions = Array.from(questionElem.querySelectorAll('input[type="checkbox"]:checked'));
                    const selectedValues = checkedOptions.map(opt => opt.value).sort().join(',');
                    isCorrect = selectedValues === questionElem.dataset.answer;
                    break;
            }
            
            // Afficher le r√©sultat
            const resultBadge = questionElem.querySelector('.result-badge');
            if (isCorrect) {
                resultBadge.textContent = '‚úì Correct';
                resultBadge.className = 'result-badge correct';
                // Sauvegarder la r√©ponse correcte
                saveAnswer(questionId, 'correct');
            } else {
                resultBadge.textContent = '‚úó Incorrect';
                resultBadge.className = 'result-badge incorrect';
                saveAnswer(questionId, 'incorrect');
            }
        }
        
        function validateAllQuestions() {
            document.querySelectorAll('.q').forEach(q => {
                checkQuestion(q);
            });
        }
        
        function resetAllQuestions() {
            document.querySelectorAll('.q').forEach(q => {
                const inputs = q.querySelectorAll('input');
                inputs.forEach(input => {
                    if (input.type === 'text' || input.type === 'number') {
                        input.value = '';
                    } else {
                        input.checked = false;
                    }
                });
                
                const resultBadge = q.querySelector('.result-badge');
                resultBadge.textContent = '';
                resultBadge.className = 'result-badge';
                
                // Supprimer du localStorage
                localStorage.removeItem(`answer_${q.dataset.id}`);
            });
            
            updateProgress();
        }
        
        function saveAnswer(questionId, status) {
            localStorage.setItem(`answer_${questionId}`, status);
        }
        
        function loadProgress() {
            let correctCount = 0;
            
            document.querySelectorAll('.q').forEach(q => {
                const questionId = q.dataset.id;
                const status = localStorage.getItem(`answer_${questionId}`);
                
                if (status === 'correct') {
                    const resultBadge = q.querySelector('.result-badge');
                    resultBadge.textContent = '‚úì Correct';
                    resultBadge.className = 'result-badge correct';
                    correctCount++;
                }
            });
            
            updateProgressBar(correctCount);
        }
        
        function updateProgress() {
            const correctCount = document.querySelectorAll('.result-badge.correct').length;
            updateProgressBar(correctCount);
        }
        
        function updateProgressBar(correctCount) {
            const totalQuestions = document.querySelectorAll('.q').length;
            const progressPercent = (correctCount / totalQuestions) * 100;
            
            document.getElementById('progress-value').textContent = correctCount;
            document.querySelector('.progress-bar').style.width = `${progressPercent}%`;
            document.querySelector('.progress-container').setAttribute('aria-valuenow', progressPercent);
        }
    </script>
</body>
</html>
