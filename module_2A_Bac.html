<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 2A Bac - Suites et raisonnement par récurrence</title>
    <script>
        // Configuration et chargement de MathJax en local
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)'], ['$', '$']],
                displayMath: [['\\[', '\\]'], ['$$', '$$']],
                processEscapes: true,
                packages: {'[+]': ['ams']}
            },
            chtml: {
                fontURL: ''  // Utiliser les polices système
            },
            startup: {
                typeset: false  // On gérera manuellement le typeset
            }
        };
    </script>
    <script src="mathjax_local.js"></script>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #4b5563;
            --light: #f3f4f6;
            --lighter: #f9fafb;
            --dark: #1f2937;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --border: #e5e7eb;
            --math-bg: #f8f9fa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            color: var(--dark);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* En-tête conforme aux spécifications */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            position: relative;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        h1 {
            font-size: 2.5rem;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--secondary);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .module-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--secondary);
            background: var(--lighter);
            padding: 8px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
        }
        
        /* Barre de progression ARIA */
        .progress-container {
            margin: 20px 0;
            background: var(--light);
            border-radius: 10px;
            height: 20px;
        }
        
        .progress-bar {
            height: 100%;
            border-radius: 10px;
            background: var(--success);
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        /* Commandes globales */
        .global-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .global-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .validate-all {
            background: var(--success);
            color: white;
        }
        
        .reset-all {
            background: var(--danger);
            color: white;
        }
        
        /* Sélecteur de langue */
        .language-selector {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 900px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .course-content {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .course-content h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }
        
        .chapters-list {
            list-style: none;
        }
        
        .chapter-item {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 8px;
            background: var(--lighter);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .chapter-item:hover {
            background: var(--light);
            transform: translateX(5px);
        }
        
        .chapter-item.active {
            background: var(--primary);
            color: white;
        }
        
        .exercices-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        /* Styles pour les exercices interactifs */
        .exercice {
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }
        
        .exercice:last-child {
            border-bottom: none;
        }
        
        .exercice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .exercice-title {
            font-size: 1.4rem;
            color: var(--primary-dark);
        }
        
        .exercice-meta {
            display: flex;
            gap: 10px;
        }
        
        .exercice-tag {
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .tag-annale {
            background: #dbeafe;
            color: var(--primary-dark);
        }
        
        .tag-difficulty {
            background: #fee2e2;
            color: var(--danger);
        }
        
        .tag-theme {
            background: #dcfce7;
            color: var(--success);
        }
        
        .exercice-content {
            margin-bottom: 20px;
            padding: 20px;
            background: var(--math-bg);
            border-radius: 8px;
            font-family: 'Cambria Math', serif;
            border-left: 4px solid var(--primary);
        }
        
        .math-expr {
            font-family: 'Cambria Math', serif;
            margin: 10px 0;
            padding-left: 15px;
        }
        
        /* Styles pour les questions interactives */
        .q {
            margin: 15px 0;
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--lighter);
        }
        
        .question-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .answer-input {
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 4px;
            margin-right: 10px;
            width: auto;
        }
        
        .check-btn {
            padding: 8px 15px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .check-btn:hover {
            background: var(--primary-dark);
        }
        
        .result-badge {
            margin-left: 10px;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
        }
        
        .correct {
            background: var(--success);
            color: white;
        }
        
        .incorrect {
            background: var(--danger);
            color: white;
        }
        
        /* Détails (indices et solutions) */
        details {
            margin: 15px 0;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 6px;
        }
        
        summary {
            cursor: pointer;
            font-weight: 600;
            padding: 5px;
        }
        
        .hint-content, .solution-content {
            margin-top: 10px;
            padding: 10px;
            background: var(--light);
            border-radius: 4px;
        }
        
        .solution-content {
            border-left: 4px solid var(--success);
        }
        
        .key-point {
            background: #fffbeb;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid var(--warning);
        }
        
        .key-point h4 {
            color: var(--warning);
            margin-bottom: 10px;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .nav-btn {
            padding: 12px 25px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-btn:hover {
            background: var(--primary-dark);
        }
        
        .nav-btn.outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .nav-btn.outline:hover {
            background: var(--primary);
            color: white;
        }
        
        footer {
            text-align: center;
            margin-top: 60px;
            padding: 20px;
            color: var(--secondary);
            font-size: 0.9rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .exercice-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .exercice-meta {
                flex-wrap: wrap;
            }
        }
        
        /* Styles pour MathML */
        math {
            font-family: STIX Math, Cambria Math, "Times New Roman", serif;
        }
        
        math[display="block"] {
            display: block;
            margin: .6em 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <!-- Sélecteur de langue -->
            <div class="language-selector">
                <select id="language-select">
                    <option value="fr" selected>Français</option>
                    <option value="en">English</option>
                    <option value="cn">中文</option>
                </select>
            </div>
            
            <h1 data-translate="module_title">Module 2A Bac - Suites et raisonnement par récurrence</h1>
            <p class="subtitle" data-translate="module_subtitle">Exercices tirés des annales du bac et cours ciblé pour maîtriser les points clés du chapitre</p>
            
            <div class="module-meta">
                <div class="meta-item">
                    <span>⏱</span>
                    <span data-translate="estimated_time">6h de travail estimé</span>
                </div>
                <div class="meta-item">
                    <span>📊</span>
                    <span data-translate="exercises_count">12 exercices complets</span>
                </div>
                <div class="meta-item">
                    <span>🎯</span>
                    <span data-translate="revision_sheets">Fiches de révision ciblées</span>
                </div>
            </div>
            
            <!-- Barre de progression -->
            <div class="progress-text">
                <span data-translate="progress">Progression</span>: <span id="progress-value">0</span>/<span id="progress-total">0</span>
            </div>
            <div class="progress-container" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                <div class="progress-bar" style="width: 0%"></div>
            </div>
            
            <!-- Commandes globales -->
            <div class="global-controls">
                <button class="global-btn validate-all" data-translate="validate_all">Tout valider</button>
                <button class="global-btn reset-all" data-translate="reset_all">Réinitialiser</button>
            </div>
        </header>
        
        <div class="content-grid">
            <div class="course-content">
                <h2 data-translate="targeted_course">Cours ciblé</h2>
                <ul class="chapters-list">
                    <li class="chapter-item active" data-chapter="recurrence" data-translate="recurrence">Raisonnement par récurrence</li>
                    <li class="chapter-item" data-chapter="suites" data-translate="suites">Définition et modes de génération</li>
                    <li class="chapter-item" data-chapter="monotonie" data-translate="monotony">Sens de variation</li>
                    <li class="chapter-item" data-chapter="limites" data-translate="limits">Limites de suites</li>
                    <li class="chapter-item" data-chapter="arithmetic" data-translate="arithmetic">Suites arithmétiques</li>
                    <li class="chapter-item" data-chapter="geometric" data-translate="geometric">Suites géométriques</li>
                    <li class="chapter-item" data-chapter="adjacent" data-translate="adjacent">Suites adjacentes</li>
                    <li class="chapter-item" data-chapter="arithmetic_geometric" data-translate="arithmetic_geometric">Suites arithmético-géométriques</li>
                </ul>
                
                <div class="key-point">
                    <h4>💡 <span data-translate="method_tip">Conseil de méthode</span></h4>
                    <p data-translate="method_advice">Pour bien réussir les exercices sur les suites, assurez-vous de toujours bien définir le terme initial et la relation de récurrence. Vérifiez les conditions d'application de chaque théorème.</p>
                </div>
            </div>
            
            <div class="exercices-container">
                <!-- Exercice 1 avec questions interactives -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 1 (Métropole, 2019)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2019</span>
                            <span class="exercice-tag tag-difficulty">Difficulté: Moyenne</span>
                            <span class="exercice-tag tag-theme">Récurrence</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On considère la suite \((u_n)\) définie par \(u_0 = 2\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+1} = \frac{1}{2}u_n + 3\)</p>
                        <p>On pose, pour tout entier naturel \(n\) : \(v_n = u_n - 6\).</p>
                        
                        <div class="q" data-type="single" data-id="q1-1">
                            <span class="question-label">1. Montrer que la suite \((v_n)\) est géométrique.</span>
                            <div class="answer-options">
                                <label><input type="radio" name="q1-1" value="A"> \(v_{n+1} = \frac{1}{2}v_n\)</label><br>
                                <label><input type="radio" name="q1-1" value="B"> \(v_{n+1} = 2v_n\)</label><br>
                                <label><input type="radio" name="q1-1" value="C"> \(v_{n+1} = \frac{1}{2}v_n + 3\)</label><br>
                                <label><input type="radio" name="q1-1" value="D"> \(v_{n+1} = v_n - 6\)</label>
                            </div>
                            <button class="check-btn" data-translate="validate">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="short" data-id="q1-2">
                            <span class="question-label">2. Donner l'expression de \(v_n\) en fonction de \(n\).</span>
                            <input type="text" class="answer-input" placeholder="Entrez votre réponse">
                            <button class="check-btn" data-translate="validate">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="short" data-id="q1-3">
                            <span class="question-label">3. En déduire l'expression de \(u_n\) en fonction de \(n\).</span>
                            <input type="text" class="answer-input" placeholder="Entrez votre réponse">
                            <button class="check-btn" data-translate="validate">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="number" data-id="q1-4">
                            <span class="question-label">4. Déterminer la limite de la suite \((u_n)\).</span>
                            <input type="number" class="answer-input" placeholder="Entrez un nombre">
                            <button class="check-btn" data-translate="validate">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Indice -->
                        <details>
                            <summary data-translate="hint">Indice</summary>
                            <div class="hint-content">
                                <p>Pour montrer qu'une suite est géométrique, il faut exprimer \(v_{n+1}\) en fonction de \(v_n\).</p>
                            </div>
                        </details>
                        
                        <!-- Solution -->
                        <details>
                            <summary data-translate="solution">Solution</summary>
                            <div class="solution-content">
                                <p>1. \(v_{n+1} = u_{n+1} - 6 = \frac{1}{2}u_n + 3 - 6 = \frac{1}{2}u_n - 3 = \frac{1}{2}(u_n - 6) = \frac{1}{2}v_n\)</p>
                                <p>2. \((v_n)\) est géométrique de raison \(\frac{1}{2}\) et de premier terme \(v_0 = u_0 - 6 = -4\), donc \(v_n = -4 \times \left(\frac{1}{2}\right)^n\)</p>
                                <p>3. \(u_n = v_n + 6 = 6 - 4 \times \left(\frac{1}{2}\right)^n\)</p>
                                <p>4. Comme \(\lim_{n \to \infty} \left(\frac{1}{2}\right)^n = 0\), on a \(\lim_{n \to \infty} u_n = 6\)</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Exercice 2 avec questions interactives -->
                <div class="exercice">
                    <div class="exercice-header">
                        <h3 class="exercice-title">Exercice 2 (Asie, 2020)</h3>
                        <div class="exercice-meta">
                            <span class="exercice-tag tag-annale">Annale 2020</span>
                            <span class="exercice-tag tag-difficulty">Difficulté: Élevée</span>
                            <span class="exercice-tag tag-theme">Limite</span>
                        </div>
                    </div>
                    
                    <div class="exercice-content">
                        <p>On considère la suite \((u_n)\) définie par \(u_0 = 1\) et pour tout entier naturel \(n\) :</p>
                        <p class="math-expr">\(u_{n+1} = \sqrt{u_n + 2}\)</p>
                        
                        <div class="q" data-type="mc" data-id="q2-1">
                            <span class="question-label">1. Démontrer par récurrence que pour tout entier naturel \(n\), \(0 \leq u_n \leq 2\).</span>
                            <div class="answer-options">
                                <label><input type="checkbox" name="q2-1" value="A"> Initialisation: \(u_0 = 1\) donc \(0 \leq u_0 \leq 2\)</label><br>
                                <label><input type="checkbox" name="q2-1" value="B"> Hérédité: Si \(0 \leq u_k \leq 2\), alors \(0 \leq u_k + 2 \leq 4\)</label><br>
                                <label><input type="checkbox" name="q2-1" value="C"> Hérédité: Si \(0 \leq u_k \leq 2\), alors \(0 \leq \sqrt{u_k + 2} \leq 2\)</label><br>
                                <label><input type="checkbox" name="q2-1" value="D"> Conclusion: La propriété est vraie pour tout \(n\)</label>
                            </div>
                            <button class="check-btn" data-translate="validate">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <div class="q" data-type="single" data-id="q2-2">
                            <span class="question-label">2. La suite \((u_n)\) est-elle convergente? Si oui, quelle est sa limite?</span>
                            <div class="answer-options">
                                <label><input type="radio" name="q2-2" value="A"> Oui, limite = 0</label><br>
                                <label><input type="radio" name="q2-2" value="B"> Oui, limite = 2</label><br>
                                <label><input type="radio" name="q2-2" value="C"> Oui, limite = 1</label><br>
                                <label><input type="radio" name="q2-2" value="D"> Non, elle diverge</label>
                            </div>
                            <button class="check-btn" data-translate="validate">Valider</button>
                            <span class="result-badge"></span>
                        </div>
                        
                        <!-- Indice -->
                        <details>
                            <summary data-translate="hint">Indice</summary>
                            <div class="hint-content">
                                <p>Pour la question 2, pensez au théorème de convergence des suites monotones bornées.</p>
                            </div>
                        </details>
                        
                        <!-- Solution -->
                        <details>
                            <summary data-translate="solution">Solution</summary>
                            <div class="solution-content">
                                <p>1. Toutes les étapes sont nécessaires pour une démonstration par récurrence complète.</p>
                                <p>2. La suite est croissante et majorée par 2, donc convergente. Si \(l\) est sa limite, alors \(l = \sqrt{l + 2}\), donc \(l^2 - l - 2 = 0\), d'où \(l = 2\) (car \(l \geq 0\)).</p>
                            </div>
                        </details>
                    </div>
                </div>
                
                <!-- Plus d'exercices seraient ajoutés ici -->
                
                <div class="key-point">
                    <h4>📝 <span data-translate="synthesis">Synthèse</span></h4>
                    <p data-translate="synthesis_content">Les suites définies par récurrence sont très fréquentes au baccalauréat. Pour les étudier, on utilise souvent une suite auxiliaire (comme dans l'exercice 1) ou on démontre des propriétés par récurrence (exercice 2).</p>
                </div>
            </div>
        </div>
        
        <div class="navigation">
            <a href="#" class="nav-btn outline">← <span data-translate="previous_module">Module précédent</span></a>
            <a href="#" class="nav-btn"><span data-translate="next_module">Module suivant</span> →</a>
        </div>
        
        <footer>
            <p>© 2025 - Module de révision Bac Mathématiques - Spécifications v1.4</p>
        </footer>
    </div>
    
    <script>
        // Fonctionnalités interactives
        document.addEventListener('DOMContentLoaded', function() {
            // Initialiser MathJax
            if (window.MathJax) {
                MathJax.startup.defaultReady();
                MathJax.typeset();
            }
            
            // Initialiser les questions
            initQuestions();
            
            // Initialiser le sélecteur de langue
            document.getElementById('language-select').addEventListener('change', function(e) {
                // Ici on implémenterait le changement de langue
                console.log('Langue sélectionnée:', e.target.value);
            });
            
            // Initialiser les boutons globaux
            document.querySelector('.validate-all').addEventListener('click', function() {
                validateAllQuestions();
            });
            
            document.querySelector('.reset-all').addEventListener('click', function() {
                resetAllQuestions();
            });
            
            // Initialiser la navigation par chapitres
            document.querySelectorAll('.chapter-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.chapter-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    // Ici on implémenterait le chargement du chapitre correspondant
                });
            });
        });
        
        // Fonctions pour gérer les questions
        function initQuestions() {
            // Compter le nombre total de questions
            const totalQuestions = document.querySelectorAll('.q').length;
            document.getElementById('progress-total').textContent = totalQuestions;
            
            // Charger les réponses depuis localStorage
            loadProgress();
            
            // Ajouter les écouteurs d'événements pour chaque question
            document.querySelectorAll('.check-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const questionElem = this.closest('.q');
                    checkQuestion(questionElem);
                    updateProgress();
                });
            });
        }
        
        function checkQuestion(questionElem) {
            const questionId = questionElem.dataset.id;
            const questionType = questionElem.dataset.type;
            let isCorrect = false;
            
            // Vérifier la réponse selon le type de question
            switch(questionType) {
                case 'single':
                    const selectedOption = questionElem.querySelector('input[type="radio"]:checked');
                    isCorrect = selectedOption && selectedOption.value === 'A'; // La bonne réponse est A
                    break;
                    
                case 'number':
                    const numberInput = questionElem.querySelector('input[type="number"]');
                    isCorrect = numberInput.value === '6'; // La bonne réponse est 6
                    break;
                    
                case 'short':
                    const textInput = questionElem.querySelector('input[type="text"]');
                    // Pour simplifier, on vérifie si la réponse contient certains mots-clés
                    isCorrect = textInput.value.includes('6 - 4') && textInput.value.includes('(1/2)^n');
                    break;
                    
                case 'mc':
                    const checkedOptions = Array.from(questionElem.querySelectorAll('input[type="checkbox"]:checked'));
                    const selectedValues = checkedOptions.map(opt => opt.value);
                    // Toutes les options doivent être sélectionnées
                    isCorrect = selectedValues.length === 4;
                    break;
            }
            
            // Afficher le résultat
            const resultBadge = questionElem.querySelector('.result-badge');
            if (isCorrect) {
                resultBadge.textContent = '✓ Correct';
                resultBadge.className = 'result-badge correct';
                // Sauvegarder la réponse correcte
                saveAnswer(questionId, 'correct');
            } else {
                resultBadge.textContent = '✗ Incorrect';
                resultBadge.className = 'result-badge incorrect';
                saveAnswer(questionId, 'incorrect');
            }
        }
        
        function validateAllQuestions() {
            document.querySelectorAll('.q').forEach(q => {
                checkQuestion(q);
            });
        }
        
        function resetAllQuestions() {
            document.querySelectorAll('.q').forEach(q => {
                const inputs = q.querySelectorAll('input');
                inputs.forEach(input => {
                    if (input.type === 'text' || input.type === 'number') {
                        input.value = '';
                    } else {
                        input.checked = false;
                    }
                });
                
                const resultBadge = q.querySelector('.result-badge');
                resultBadge.textContent = '';
                resultBadge.className = 'result-badge';
                
                // Supprimer du localStorage
                localStorage.removeItem(`answer_${q.dataset.id}`);
            });
            
            updateProgress();
        }
        
        function saveAnswer(questionId, status) {
            localStorage.setItem(`answer_${questionId}`, status);
        }
        
        function loadProgress() {
            let correctCount = 0;
            
            document.querySelectorAll('.q').forEach(q => {
                const questionId = q.dataset.id;
                const status = localStorage.getItem(`answer_${questionId}`);
                
                if (status === 'correct') {
                    const resultBadge = q.querySelector('.result-badge');
                    resultBadge.textContent = '✓ Correct';
                    resultBadge.className = 'result-badge correct';
                    correctCount++;
                }
            });
            
            updateProgressBar(correctCount);
        }
        
        function updateProgress() {
            const correctCount = document.querySelectorAll('.result-badge.correct').length;
            updateProgressBar(correctCount);
        }
        
        function updateProgressBar(correctCount) {
            const totalQuestions = document.querySelectorAll('.q').length;
            const progressPercent = (correctCount / totalQuestions) * 100;
            
            document.getElementById('progress-value').textContent = correctCount;
            document.querySelector('.progress-bar').style.width = `${progressPercent}%`;
            document.querySelector('.progress-container').setAttribute('aria-valuenow', progressPercent);
        }
    </script>
</body>
</html>
